<?xml version="1.0" encoding="utf-8"?>
<stc>
	<version property="dataFormatMonth" column="columnName">
		<mysql>date_format($columnName$,'%Y-%m')</mysql>
		<sqlserver>convert(varchar(7),$columnName$,20)</sqlserver>
		<oracle>to_char($columnName$,'yyyy-MM')</oracle>
		<dmdbms>to_char($columnName$,'yyyy-MM')</dmdbms>
		<postgresql>to_char($columnName$,'yyyy-MM')</postgresql>
		<default>to_char($columnName$,'yyyy-MM')</default>
	</version>
	<version property="dataFormatYear" column="columnName">
		<mysql>date_format($columnName$,'%Y')</mysql>
		<sqlserver>convert(varchar(4),$columnName$,20)</sqlserver>
		<oracle>to_char($columnName$,'yyyy')</oracle>
		<dmdbms>to_char($columnName$,'yyyy')</dmdbms>
		<postgresql>to_char($columnName$,'yyyy')</postgresql>
		<default>to_char($columnName$,'yyyy')</default>
	</version>
	<select mode="news">
		<selectCol id="month">
			$dataFormatMonth|news.publish_date$ as stcTime
		</selectCol>
		<selectCol id="year">
			$dataFormatYear|news.publish_date$ as stcTime
		</selectCol>
		<selectCol id="member">
			news.publish_user_id as memberId
		</selectCol>
		<selectCol id="dept">
			m.org_department_id as deptId
		</selectCol>
		<selectCol id="acc">
			m.org_account_id as accId
		</selectCol>
		<where id="dateBetween">
		   and news.publish_date <![CDATA[>=:sDate]]> and news.publish_date <![CDATA[<=:eDate]]>
	    </where>
		<sql id="publishNum">
		  select $selectCol$,count(*) as stcNum
			  from news_data news,org_member m 
			  where m.id=news.publish_user_id and news.type_id =:typeId and news.deleted_flag = :deletedFlag	and news.state in(:state)
			  $where|dateBetween$
			  group by $selectCol$ order by $orderBy$
		</sql>
	</select>
	<select mode="bbs">
		<selectCol id="month">
			$dataFormatMonth|bbs.issue_time$ as stcTime
		</selectCol>
		<selectCol id="year">
			$dataFormatYear|bbs.issue_time$ as stcTime
		</selectCol>
		<selectCol id="member">
			bbs.issue_user_id as memberId
		</selectCol>
		<selectCol id="dept">
			m.org_department_id as deptId
		</selectCol>
		<selectCol id="acc">
			m.org_account_id as accId
		</selectCol>
		<where id="dateBetween">
		   and bbs.issue_time <![CDATA[>=:sDate]]> and bbs.issue_time <![CDATA[<=:eDate]]>
	    </where>
		<sql id="publishNum">
		  select $selectCol$,count(*) as stcNum
			  from bbs_article bbs,org_member m
			  where m.id =bbs.issue_user_id and  bbs.v3x_bbs_board_id =:typeId and bbs.state in(:state) $where|dateBetween$
			  group by $selectCol$ order by $orderBy$
		</sql>
	</select>
	<select mode="bul">
		<selectCol id="month">
			$dataFormatMonth|bul.publish_date$ as stcTime
		</selectCol>
		<selectCol id="year">
			$dataFormatYear|bul.publish_date$ as stcTime
		</selectCol>
		<selectCol id="member">
			bul.publish_user_id as memberId
		</selectCol>
		<selectCol id="dept">
			m.org_department_id as deptId
		</selectCol>
		<selectCol id="acc">
			m.org_account_id as accId
		</selectCol>
		<where id="dateBetween">
		   and bul.publish_date <![CDATA[>=:sDate]]> and bul.publish_date <![CDATA[<=:eDate]]>
	    </where>
		<sql id="publishNum">
		  select $selectCol$,count(*) as stcNum
			  from bul_data bul,org_member m
			  where bul.publish_user_id = m.id and  bul.type_id =:typeId and bul.deleted_flag = :deletedFlag	and bul.state in(:state)
			  $where|dateBetween$
			  group by $selectCol$ order by $orderBy$
		</sql>
	</select>
	<select mode="inquiry">
		<selectCol id="month">
			$dataFormatMonth|inquiry.send_date$ as stcTime
		</selectCol>
		<selectCol id="year">
			$dataFormatYear|inquiry.send_date$ as stcTime
		</selectCol>
		<selectCol id="member">
			inquiry.issuer_id as memberId
		</selectCol>
		<selectCol id="dept">
			m.org_department_id as deptId
		</selectCol>
		<selectCol id="acc">
			m.org_account_id as accId
		</selectCol>
		<where id="dateBetween">
		   and inquiry.send_date <![CDATA[>=:sDate]]> and inquiry.send_date <![CDATA[<=:eDate]]>
	    </where>
		<sql id="publishNum">
		  select $selectCol$,count(*) as stcNum
			  from inquiry_surveybasic inquiry,org_member m
			  where inquiry.issuer_id=m.id and inquiry.surveytype_id =:typeId and inquiry.flag = :deletedFlag and inquiry.censor in(:state)
			  $where|dateBetween$
			  group by $selectCol$ order by $orderBy$
		</sql>
	</select>
</stc>