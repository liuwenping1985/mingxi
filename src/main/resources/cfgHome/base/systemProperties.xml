<?xml version="1.0" encoding="utf-8"?>
<ctpConfig>
    ##########################################################################
    #
    # 系统默认参数
    # A8ApplicationRoot
    应用的根路径，比如：C:\Program Files\UFseeyon\A8\Group\ApacheJetspeed2\webapps\seeyon
    # SystemEnvironment.getA8ApplicationFolder()
    #
    #
    # 用户自定义方法：
    # a.找到需要修改的配置文件(*.properties)
    # b.同一级目录创建文件夹custom，在下面创建文件system.properties（与当前文件同名）
    # c.把需要修改的配置项key =
    value拷贝到custom/system.properties (注意key一定要相同)
    # d.修改value
    # 注意：不要直接修改本文件，否则升级后将被覆盖掉
    # {VE}和{VP}只在集群启用时生效。
    #
    标记了{VE}的配置项，集群所有节点的值必须一致
    # 标记了{VP}的配置项，集群各节点配置的目录必须是相同的目录（物理上）。
    ##########################################################################
    <ctp>
        <!-- 系统名称标识 -->
        <systemName>CTP</systemName>
        <!-- runningMode：系统运行模式，develop - 开发模式（启动服务不载入Sequence,Rule等）；其它反之，默认develop -->
        <runningMode>product</runningMode>
        <!-- 系统提供的语言种类 用逗号分隔 -->
        <locales mark="{VE}" desc="系统支持的语言种类，多个语种使用逗号分隔，第一个为缺省语言。">zh_CN,en,zh_TW</locales>
        <!-- 系统初始化实现类，实现com.seeyon.ctp.common.SystemInitializer接口 -->
        <init>
            <!-- <initializer>com.seeyon.v3x.common.task.TaskMonitorListener</initializer> <initializer>com.seeyon.v3x.workflow.listener.WorkflowInitListener</initializer> 
                <initializer>www.seeyon.com.v3x.form.base.FormSystemInit</initializer> <initializer>com.seeyon.v3x.edoc.EdocFormManagerSystemInitialition</initializer> 
                <initializer>com.seeyon.v3x.agent.listener.AgentInitListener</initializer> <initializer>com.seeyon.v3x.cluster.ClusterCacheSystemInitialition</initializer> 
                <initializer>com.seeyon.v3x.calendar.listener.PeriodicalInitListener</initializer> <initializer>com.seeyon.v3x.common.office.trans.OfficeTransSystemInitialition</initializer> 
                <initializer>com.seeyon.v3x.hr.util.listener.HrNoCardRecordsInitListener</initializer> <initializer>com.seeyon.ctp.common.quartz.QuartzListener</initializer> 
                <initializer>com.seeyon.ctp.monitor.MonitorInitial</initializer> -->
                <initializer>com.seeyon.ctp.common.assdoc.AssdocInitial</initializer>
                <initializer>com.seeyon.ctp.plugin.sensor.controller.SensorInit</initializer>
        </init>
        <login>
            <intercepters>
                <!-- 登录验证前的拦截器操作，需要继承com.seeyon.ctp.login.LoginInterceptor -->
                <!-- 已迁移拦截器 -->
                <intercepter>com.seeyon.ctp.login.interceptor.VerifyCodeLoginInterceptor</intercepter> 
                <intercepter>com.seeyon.ctp.login.interceptor.LockLoginInterceptor</intercepter> 
                <intercepter>com.seeyon.ctp.login.interceptor.IpcontrolLoginInterceptor</intercepter>
                <intercepter>com.seeyon.ctp.login.interceptor.MutilBrowserLoginInterceptor</intercepter>
                <intercepter>com.seeyon.ctp.login.interceptor.UcLoginInterceptor</intercepter>
                <intercepter>com.seeyon.ctp.login.interceptor.OnlyAdminLoginInterceptor</intercepter>
                <!-- 未迁移拦截器 -->    
                <!--  
                    <intercepter>com.seeyon.v3x.login.interceptor.NCUserSycInterceptor</intercepter> 
                    <intercepter>net.btdz.oa.mobile.common.service.security.M1UserAuthedInterceptor</intercepter> -->
            </intercepters>
            <authentications>
                <!-- 按顺序依次调用认证方法，只要有一个通过则该次登录认证通过，需要实现com.seeyon.ctp.login.LoginAuthentication接口 -->
                <!-- 已迁移 -->
                <authentication>com.seeyon.ctp.portal.sso.login.SSOTicketLoginAuthentication</authentication>
                <authentication>com.seeyon.v3x.ca.CALoginAuthentication</authentication>
                <authentication>com.seeyon.ctp.login.IdentificationDogLoginAuthentication</authentication>
                <authentication>com.seeyon.apps.ldap.login.LDAPLoginAuthentication</authentication>
                <authentication>com.seeyon.ctp.login.SMSLoginAuthentication</authentication>
                <authentication>com.seeyon.ctp.login.auth.DefaultLoginAuthentication</authentication>
                <authentication>com.seeyon.apps.weixin.login.WeixinLoginAuthentication</authentication>
            </authentications>
            <activexes>
                <activex>com.seeyon.ctp.login.activex.IdentifyDogActiveX</activex>
            </activexes>
        </login>
        <base>
            <!-- A8系统的基础目录，用于存储附件、全文检索文件、邮件、临时文件等，如：C:\Program Files\UFseeyon\A8\Group\base SystemEnvironment.getBaseFolder() -->
            <folder>${ApplicationRoot}/../../../base</folder>
        </base>
        <temporary>
            <!-- 系统临时目录 SystemEnvironment.getSystemTempFolder() -->
            <folder>${ctp.base.folder}/temporary</folder>
        </temporary>
        <fileSync>
            <!-- M {VP} 系统上传图片同步目录 -->
            <folder mark="{VP}" desc="系统上传图片同步目录">${ctp.base.folder}/fileSync</folder>
        </fileSync>
        <enum>
            <!-- 需要导出到Javascript或EL表达式使用的枚举类（需实现KeyEnum接口） -->
            <export>com.seeyon.ctp.common.content.mainbody.MainbodyType</export>
            <export>com.seeyon.ctp.form.util.Enums$FormType</export>
            <export>com.seeyon.ctp.form.modules.engin.relation.FormRelationEnums$ToRelationAttrType</export>
            <export>com.seeyon.ctp.common.ModuleType</export>
        </enum>
        <security>
            <!-- 需要做URL digest的URL注册，空格分隔1为uri地址，2为method（没有可以省略），3为digest参数名 -->
            <digesturl>/samples/test.do testDigest1 testId1</digesturl>
            <digesturl>/samples/test.do testDigest2 testId1,testId2</digesturl>
            <digesturl>/fileDownload.do download fileId</digesturl>
            <digesturl>/fileDownload.do doDownload fileId</digesturl>
            <digesturl>/fileUpload.do download fileId</digesturl>
            <digesturl>/fileUpload.do doDownload fileId</digesturl>
            <!-- 新综合办公 -->
            <digesturl>/office/autoUse.do autoApplyIframe applyId</digesturl>
            <digesturl>/office/autoUse.do autoAuditEdit affairId</digesturl>            
            <digesturl>/office/stockUse.do stockApplyIframe applyId</digesturl>
            <digesturl>/office/stockUse.do stockAuditEdit affairId</digesturl>            
            <digesturl>/office/assetUse.do assetApplyIframe applyId</digesturl>
            <digesturl>/office/assetUse.do assetAuditEdit affairId</digesturl>
            <digesturl>/office/bookUse.do bookAuditDetail bookApplyId</digesturl>
            <digesturl>/office/bookUse.do myBookLendDetail bookApplyId</digesturl>
            <digesturl>/office/bookUse.do bookLendDetail bookApplyId</digesturl>
            <digesturl>/office/bookUse.do bookRemandDetail bookApplyId</digesturl>
            <cryptLoginPassword mark="{boolean} {VE}" desc="是否启用登陆密码加密传输（非https部署建议开启）">false</cryptLoginPassword>
        </security>
        <not_need_logon>
            <navurl>/main.do</navurl>
            <navurl>/main.do?method=changeLocale</navurl>
            <navurl>^/main.do?method=login</navurl>
            <navurl>^/main.do?method=headerjs</navurl>
            <navurl>/main.do?method=main</navurl>
            <navurl>/main.do?method=showAbout</navurl>
            <navurl>^/main.do?method=logout</navurl>
            <navurl>^/genericController.do</navurl>
            <navurl>^/autoinstall.do</navurl>
            <navurl>^/identification.do?method=getSessionId</navurl>
            <navurl>^/thirdpartyController.do</navurl>
            <navurl>^/form/formUpgrade.do</navurl>
            <navurl>^/uploadService.do?method=processUploadService</navurl>
            <navurl>^/a8genius.do~session=false</navurl>
            <navurl>^/uc/chat.do~session=false</navurl>
            <navurl>^/fileUpload.do?method=showRTE~session=false</navurl>
            <navurl>^/commonimage.do?method=showImage</navurl>
			<navurl>mProfileManager.getProfile</navurl> 
			<navurl>mLoginManager.transLogin</navurl> 
			<navurl>mMessageManager.getPushMessageList</navurl>  
			<navurl>mBindApplyManager.bindApplyByUser</navurl> 
			<navurl>mProductManager.productStatus</navurl>
			<navurl>mProductManager.productInfo</navurl>
			<navurl>mMOneProfileManager.getUpdateServerInfo</navurl>
			<navurl>mMOneProfileManager.getOAProfile</navurl>
			<navurl>mMessageManager.getConfig</navurl>
			<navurl>portalManager.smsLoginEnabled</navurl>
			<navurl>portalManager.sendSMSLoginCode</navurl>
			<navurl>weixinLoginManager.isLogin</navurl>			
			<navurl>^/seeyonReport/checkReportController.do</navurl>
			<navurl>^/personalBind.do</navurl>
			<navurl>/individualManager.do?method=resetPasswordNologin</navurl>
			<navurl>configManager.getConfigValue</navurl>
        </not_need_logon>
    </ctp>

    <webmail>
        <!-- M {VP} 邮件保存目录，如D:/data/mail（注：${ctp.base.folder}是系统缺省路径） -->
        <savePath mark="{VP}" desc="邮件保存目录，如D:/data/mail（注：${ctp.base.folder}是系统缺省路径）">${ctp.base.folder}/webmail</savePath>
    </webmail>

    <officeTrans>
        <type mark="{option,yongzhong,seeyon}" desc="文件转换的类型：永中版与致远版，默认为永中版">yongzhong</type>
        <rmi>
            <!-- M Office转换服务的IP地址 -->
            <host mark="" desc="Office转换服务的IP地址">127.0.0.1</host>
            <!-- M{int} Office转换服务的端口 -->
            <port mark="{int}" desc="Office转换服务的端口">1097</port>
        </rmi>
        <cache>
            <!-- M Office转换文件目录，存放Office文件的HTML缓存 -->
            <folder mark="" desc="Office转换文件目录，存放Office文件的HTML缓存">${ctp.base.folder}/officetrans</folder>
        </cache>
        <!-- M{int} {VE} Office转换文件最多天数（默认60），超出的文件将被清理以节省空间 -->
        <retainDay mark="{int} {VE}" desc="Office转换文件最多天数（默认60），超出的文件将被清理以节省空间">60</retainDay>
        <file>
            <!-- M{int} {VE} 允许转换的Office文件的大小：单位是byte，缺省只转换5M以下的文件 -->
            <maxSize mark="{int} {VE}" desc="允许转换的Office文件的大小：单位是byte，缺省只转换5M以下的文件 ">5242880</maxSize>
        </file>
    </officeTrans>

	<internet>
		<site>
			<url mark="{VE}" desc="协同的外网访问地址（如果开放了外网访问和分享相关功能，请务必设置）如：http(s)://v5.seeyon.com:8080"></url>
		</site>
	</internet>
	
	<monitor>
		<dao>
			<duplicateSql mark="{boolean} {VE}" desc="是否检测重复sql">false</duplicateSql>
		</dao>	
	</monitor>
		
    <fileUpload>
        <!-- M{int} {VE} 允许上传文件的大小：单位是byte -->
        <maxSize mark="{int} {VE}" desc="允许上传文件的大小：单位是byte">52428800</maxSize>
        <image>
            <!-- M{int} 允许上传图片的大小：单位是byte -->
            <maxSize mark="{int}" desc="允许上传图片的大小：单位是byte">10485760</maxSize>
        </image>
    </fileUpload>

    <fileDowload>
        <!-- M{int} {VE} 允许同时下载的连接数 -->
        <maxConnections mark="{int} {VE} " desc="允许同时下载的连接数">150</maxConnections>
    </fileDowload>
    
    <assdoc>
        <appurl>
         <!-- 关联文档 个模块获取列表数据的URL。”app-1“其中的1为应用编号。该编号采用老A8的全局编号 -->
        <app-1>http://www.baidu.com </app-1>
        <app-2>http://g.cn </app-2>
        <app-3>http://163.com </app-3>
        </appurl>
    </assdoc>
    
    <officeFile>
        <!-- M{int} {VE} office控件允许上传的大小：单位是k -->
        <maxSize mark="{int} {VE}" desc="office控件允许上传的大小：单位是k">8192</maxSize>
    </officeFile>
    
     <logClean>
        <!-- M{int} {VE} 系统log清理周期，单位是天 -->
        <period mark="{int} {VE}" desc="系统log清理周期，单位是天">90</period>
    </logClean>
    
    <officeSaveLocal>
	    <!-- #M{boolean} {VE} Word或者Wps正文保存到本地是否保留修改痕迹  -->
	    <isRetainedTraces mark="{boolean} {VE}" desc="Word或者Wps正文保存到本地是否保留修改痕迹">false</isRetainedTraces>
    </officeSaveLocal>
    
	<org>
	    <rs>
	        <count>
	            <!-- OrgCache.getOrgRelation缓存访问监控阀值 -->
	            <max mark="{int,1,10}" desc="OrgCache.getOrgRelation缓存访问监控阀值，默认为3">3</max>
	        </count>
	    </rs>
	</org>
    <message>
        <interval>
            <!-- 客户端AJAX提取在线消息的时间片 单位为秒，至少为20 -->
            <second>30</second>
        </interval>
    </message>
    <onlineManager>
        <offilineCount>
            <!-- M{option,5,10,15,20,30} {VE} 在线人员异常退出的离线计时器，单位为分钟，至少为5，超过设定的时间后，系统判定此人为离线。 -->
            <minute mark="{option,5,10,15,20,30} {VE}" desc="在线人员异常退出的离线计时器，单位为分钟，至少为5，超过设定的时间后，系统判定此人为离线。">15</minute>
        </offilineCount>
        <leaveCount>
            <!-- 在线人员异常退出的离开计时器，单位为分钟，至少为3，超过设定的时间后，系统判定此人为离开。 -->
            <minute>3</minute>
        </leaveCount>
        <comment>
            <!-- 消息后面意见的字数 -->
            <zishu>18</zishu>
        </comment>
    </onlineManager>

    <paginate>
        <page>
            <!-- M{option,10,20,30,40,50,100,150,200} {VE} 分页显示：每页显示的行数 -->
            <size mark="{option,10,20,30,40,50,100,150,200} {VE}" desc="分页显示：每页显示的行数">20</size>
        </page>
    </paginate>

    <rssManager>
        <!-- firstBeginTime: 开始更新时间（24小时制小时，整数） -->
        <firstBeginTime>4</firstBeginTime>
        <!-- intervalTime：更新间隔时间（小时数，整数） -->
        <intervalTime>24</intervalTime>
        <!-- 站点连接最大时间控制 connTimeout(秒数) -->
        <connTimeout>30</connTimeout>
    </rssManager>

    <mobile>
        <!-- 移动应用的参数 -->
        <HtmlToGif>
            <server>
                <!-- 移动审批服务器的IP，移动审批服务器安装路径 -->
                <host>localhost</host>
                <!-- 移动审批服务器的端口，移动审批服务器安装路径 -->
                <port>8090</port>
            </server>
        </HtmlToGif>
        <!-- 移动OA在手机上每一页显示事项的条数 -->
        <page_counter>8</page_counter>
        <!-- 宽屏页面的文件 -->
        <version_1>mobile</version_1>
        <!-- 猫最多能发送消息内容的个数包括URL -->
        <cat>70</cat>
        <!-- 消息调度器中，发送消息后线程的睡眠时间 ，单位是毫秒 -->
        <sleeptime>25</sleeptime>
        <!-- 消息调度器中，接收消息的持续时间 ，单位是秒 -->
        <receivetime>300</receivetime>
        <!-- 手机短信清理的时间周期，单位是天，即把*天以前的短信置为被删除，防止特征码重复 -->
        <message>
            <deleteSpaceDate>30</deleteSpaceDate>
        </message>
        <!-- M(int) {VE} 当前的短信服务商， 每条短信支持的最大字数 -->
        <largestNum mark="(int) {VE}" desc="当前的短信服务商， 每条短信支持的最大字数">120</largestNum>
        <!-- 手机显示内容分页，一页显示多少个字 -->
        <page_content_count>500</page_content_count>
        <!-- 如果附件可以解析，移动短最大支持多大的附件，单位kb 1M = 1024KB -->
        <support_max_file>512</support_max_file>
    </mobile>

    <!-- 公文单与套红模板的预置文件参数 -->
    <edoc>
        <!-- 预置公文文件的路径 -->
        <folder>${ApplicationRoot}/apps_res/edoc/file</folder>
    </edoc>
	
    <!-- 政务单子与套红模板的预置文件参数 -->
    <govform>
        <!-- 预置政务单子文件的路径 -->
        <folder>${ApplicationRoot}/apps_res/gov/govform/file</folder>
    </govform>
	
	<infosend>
        <!-- 信息报送预置模版路径 -->
        <folder>${ApplicationRoot}/apps_res/info/file</folder>
    </infosend>

    <!-- 工作流应用的参数 -->
    <workflow>
        <process>
            <!-- 工作流process对象缓存条数：单位是条 -->
            <cache>100</cache>
        </process>
    </workflow>

    <login>
        <!-- M{boolean} {VE} 是否只允许管理员从A8登录，普通用户必须从其它系统SSO后登录 -->
        <OnlyAdminLogin mark="{boolean} {VE}" desc="是否只允许管理员从A8登录，普通用户必须从其它系统SSO后登录">false</OnlyAdminLogin>
    </login>

    
    <person>
        <disable>
            <modify>
                <!-- M{option,0,1} {VE} 是否屏蔽个人修改密码功能： 0-不屏蔽 ; 1-屏蔽 -->
                <password mark="{option,0,1} {VE} " desc="是否屏蔽个人修改密码功能： 0-不屏蔽 ; 1-屏蔽">0</password>
            </modify>
        </disable>
    </person>

    <jgroups>
        <!-- jgroups使用的协议，可选值有tcp udp tcp-nio -->
        <protocol>tcp</protocol>
    </jgroups>

    <editor>
        <!-- M{VE} HTML正文编辑器字体，多个字体用半角分号隔开，如：新宋体;华文隶书;华文彩云; -->
        <FontNames mark="{VE}" desc="HTML正文编辑器字体，多个字体用半角分号隔开，如：新宋体;华文隶书;华文彩云;"></FontNames>
    </editor>

    <portal>
        <iframe>
            <!-- M {VE} 被第三方portal系统集成,配置iframeid，如ncportal:top.frames['frame_A8'];多个请用半角逗号分隔 -->
            <id mark="{VE}" desc="被第三方portal系统集成,配置iframeid，如ncportal:top.frames['frame_A8'];多个请用半角逗号分隔">top.frames['frame_A8']</id>
        </iframe>
    </portal>

    <form>
        <mainTable>
            <record>
                <!-- 表单触发设置保存的时候，当主表的数量超过指定条数给出提示的数量设置 -->
                <quantity>10000</quantity>
            </record>
        </mainTable>
    </form>
    <product>
        <build>
             <date>2017-11-10</date>
             <version>77</version>
             <ctpversion>76869</ctpversion>
        </build>
        <release>
            <version>V6.1SP2</version>
            <patch>V6.1SP2</patch>
        </release>
    </product>
    <db>
       <jdbc>
           <batch_size>1000</batch_size>
       </jdbc>
       <cache>
           <use_second_level_cache>false</use_second_level_cache>
       </cache>
    </db>
    <!--按照最新的策略模式这部分内容不在配置选项中展示 
	<monitor>
		<statusurl mark="{VE} " desc="传感器云端地址">http://10.3.4.212:8080/monitorServer/m/send/save</statusurl>
		<enable mark="{option,off,on} {VE} " desc="启用传感器 off - 不启用 ;on - 启用">on</enable>
	</monitor> -->
	
	<index>
		<content>
			<length>10000</length>
		</content>
	</index>
	
	<!-- JDBCAgent 按照如下配置周期作为自动关闭Connection的超时时间-->
	<jdbcConnection>
		<autoClear>
			<timeOut mark="{int} {VE}" desc="JDBC连接回收超时时间（单位：秒），注：不大于0 时，关闭自动清除功能">600</timeOut>			
		</autoClear>
	</jdbcConnection>
</ctpConfig>
