<!DOCTYPE html>
<html>
<header>
    <script type="text/javascript" src="res/jquery-1.8.2.js"></script>
</header>

<body>
    <form id="form_params">
        <label for="sender"> 发送:</label>
        <input type="text" name="senderName" value="oa1" />
        <p></p>
        <label for="receiverName"> 接收:</label>
        <input type="text" name="receiverName" value="liuman" />
        <p></p>
        <label for="orgName"> 单位:</label>
        <input type="text" width="1300px" name="orgName" value="中海晟融（北京）资本管理有限公司" />
        <p></p>
        <label for="orgName"> 标题:</label>
        <input type="text" name="subject" value="标题111222333" />
        <p></p>
        <label for="linkAddress"> 跳转:</label>
        <input type="text" name="linkAddress" value="http://www.google.com" />
    </form>
    <p></p>
    <button id="submit_btn">发 送</button>

    <script>
        $.fn.serializeJSON = function () {
            var ooo = {};
            var data_ = this.serializeArray();
            $.each(data_, function () {
                if (ooo[this.name] !== undefined) {
                    if (!ooo[this.name].push) {
                        ooo[this.name] = [o[this.name]];
                    }
                    ooo[this.name].push(this.value || '');
                } else {
                    ooo[this.name] = this.value || '';
                }
            });
            return ooo;
        };
        $(document).ready(function () {
            function submit() {
                var affair = $("#form_params").serializeJSON();
                console.log(affair);
            
                $.ajax({
                    type: "POST",
                    url: "http://47.100.181.195:8080/seeyon/datakit/outaffair.do?method=postAffair",
                    data: {
                            /*可添加多个放到这个数组中即可*/
                        "items": JSON.stringify([
                            affair
                        ])
                    },
                    dataType: "json",
                    contentType: "application/x-www-form-urlencoded;charset=utf-8",
                    beforeSend: function (xhr) {
                   
                    },
                    success: function (data) {

                        if (data instanceof Array && data.length > 0) {
                            console.log(data);
                        } else {
                            console.log("error");
                        }
                    },
                    error: function () {

                    }
                });
            }

            $("#submit_btn").click(function () {
                submit();
            })

        });
    </script>

</body>

</html>